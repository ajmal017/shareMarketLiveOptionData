# importing matplotlib module
from matplotlib import pyplot as plt
from matplotlib import style
import numpy as np



class DesignBarChart:

    def __init__(self, x, y, xLabel, yLabel, detailedLabel, title):
        self.x=x
        self.y=y
        self.xLabel=xLabel
        self.yLabel=yLabel
        self.detailedLabel=detailedLabel
        self.title = title


    def nearest_top(self, ymax):
        mul = 1
        y = ymax
        while y != 0:
            y = int(y / 10)
            mul = mul * 10
        return mul/5

    def draw(self):

        x = self.x
        skip = int(len(x)/25)
        x = x
        print(skip)
        y = self.y
        y = y
        xLabel = self.xLabel
        yLabel = self.yLabel
        detailedLabel = self.detailedLabel
        title = self.title

        ymax = max(y)
        ymin = min(y)
        xmax = max(x)
        xmin = min(x)
        yspace = self.nearest_top(max(abs(ymin), ymax))
        if ymin<0:
            yspacebottom=-yspace
        else:
            yspacebottom=0

        #style.use('seaborn')

        fig, ax = plt.subplots(num=None, figsize=(25, 16), facecolor='w', edgecolor='r')
        plt.title(title)
        plt.xlabel(xLabel)
        plt.ylabel(yLabel)
        ax.set_xlabel(detailedLabel)
        ax.plot(x,y)

        # for tick in ax.get_xticklabels():
        #   tick.set_rotation(0)

        plt.grid(True, color='grey')
        plt.legend()
        #plt.xticks(np.arange(int(xmin.replace(':','')), int(xmax.replace(':','')), 10))
        plt.yticks(np.arange(yspacebottom, yspace, yspace * 0.1))
        #print(int((xmin.replace(':',''))[0:4]))
        #print(int((xmax.replace(':',''))[0:4]))
        plt.show()


x=[
  1020,
  1022,
  1023,
  1025,
  1026,
  1027,
  1029,
  1030,
  1032,
  1033,
  1034,
  1036,
  1037,
  1039,
  1040,
  1041,
  1043,
  1044,
  1045,
  1047,
  1048,
  1049,
  1051,
  1052,
  1054,
  1055,
  1056,
  1058,
  1059,
  1101,
  1102,
  1104,
  1110,
  1111,
  1113,
  1114,
  1116,
  1117,
  1119,
  1122,
  1123,
  1125,
  1126,
  1128,
  1129,
  1130,
  1132,
  1133,
  1135,
  1136,
  1140,
  1141,
  1143,
  1144,
  1146,
  1147,
  1149,
  1150,
  1152,
  1153,
  1155,
  1156,
  1158,
  1159,
  1201,
  1202,
  1204,
  1205,
  1207,
  1208,
  1211,
  1213,
  1214,
  1216,
  1217,
  1219,
  1220,
  1221,
  1223,
  1224,
  1226,
  1227,
  1229,
  1230,
  1232,
  1233,
  1234,
  1236,
  1237,
  1239,
  1240,
  1241,
  1243,
  1244,
  1246,
  1247,
  1249,
  1250,
  1252,
  1253,
  1254,
  1256,
  1257,
  1259,
  1300,
  1302,
  1303,
  1304,
  1306,
  1307,
  1309,
  1310,
  1312,
  1313,
  1315,
  1316,
  1317,
  1319,
  1320,
  1322,
  1323,
  1324,
  1326,
  1328,
  1329,
  1331,
  1332,
  1334,
  1335,
  1337,
  1338,
  1341,
  1342,
  1344,
  1345,
  1347,
  1348,
  1349,
  1351,
  1353,
  1355,
  1356,
  1358,
  1359,
  1401,
  1402,
  1404,
  1406,
  1407,
  1409,
  1410,
  1412,
  1413,
  1415,
  1416,
  1419,
  1420,
  1422,
  1423,
  1425,
  1426,
  1427,
  1429,
  1430,
  1432,
  1435,
  1437,
  1438,
  1439,
  1441,
  1442,
  1444,
  1445,
  1447,
  1448,
  1450,
  1451,
  1452,
  1454,
  1455,
  1456,
  1458,
  1459,
  1501,
  1502,
  1503,
  1505,
  1506,
  1507,
  1509,
  1510,
  1512,
  1514,
  1515,
  1517,
  1518,
  1519,
  1521,
  1522,
  1523,
  1525,
  1526,
  1528
]

y=[
  874950,
  874350,
  874350,
  874350,
  866775,
  866775,
  868875,
  868875,
  874725,
  874725,
  874725,
  872625,
  872625,
  879900,
  877725,
  877725,
  877725,
  875325,
  875325,
  876075,
  876075,
  878775,
  878775,
  876675,
  876675,
  876675,
  880350,
  880350,
  870975,
  870975,
  870975,
  876150,
  898500,
  898950,
  898950,
  908775,
  908775,
  906075,
  906075,
  887400,
  878100,
  878100,
  888225,
  888225,
  893175,
  911025,
  911025,
  911025,
  905775,
  905775,
  926625,
  930900,
  930900,
  930900,
  928275,
  928275,
  936975,
  930600,
  930600,
  930600,
  982950,
  982950,
  982950,
  991200,
  991200,
  978750,
  978750,
  1001700,
  1001700,
  1001700,
  973425,
  989775,
  989775,
  989775,
  989775,
  1019850,
  1068375,
  1068375,
  1081050,
  1081050,
  1081050,
  1066275,
  1063725,
  1063725,
  1077750,
  1077750,
  1080000,
  1080000,
  1089075,
  1089075,
  1089075,
  1109475,
  1109475,
  1109475,
  1127850,
  1144275,
  1144275,
  1144275,
  1144200,
  1174950,
  1174950,
  1191900,
  1191900,
  1191900,
  1221300,
  1204425,
  1204425,
  1204425,
  1206225,
  1206225,
  1209150,
  1209150,
  1219800,
  1219800,
  1248675,
  1248675,
  1251075,
  1251075,
  1170150,
  1170150,
  1170150,
  1159950,
  1170825,
  1170825,
  1165650,
  1165650,
  1165650,
  1158675,
  1158675,
  1168575,
  1164675,
  1164675,
  1089375,
  1060050,
  1060050,
  1060050,
  953550,
  953550,
  837975,
  660825,
  660825,
  524850,
  524850,
  534300,
  534300,
  546525,
  546525,
  543675,
  543675,
  534300,
  488250,
  488250,
  469575,
  469575,
  469575,
  467175,
  461550,
  461550,
  441600,
  441600,
  451650,
  451650,
  451650,
  482175,
  482175,
  534750,
  534750,
  534750,
  581025,
  602400,
  602400,
  602400,
  610050,
  610050,
  610050,
  609750,
  580800,
  580800,
  566700,
  562950,
  562950,
  562950,
  433200,
  433200,
  433200,
  387225,
  387225,
  418050,
  418050,
  403800,
  403800,
  362625,
  323550,
  323550,
  323550,
  269325,
  229650,
  229650,
  229650,
  194325,
  194325,
  143100,
  143100
]

p=DesignBarChart(x, y, "Strike Price", "Change in OI", "\nChange in Open Interest with Strike Price", "Change in Open Interest")
p.draw()